!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BinPacking",[],e):"object"==typeof exports?exports.BinPacking=e():t.BinPacking=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=19)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.score_1=t.MAX_INT,this.score_2=t.MAX_INT,void 0!==e&&(this.score_1=e),void 0!==n&&(this.score_2=n)}return i(t,[{key:"valueOf",value:function(){return this.score_1+this.score_2}},{key:"assign",value:function(t){this.score_1=t.score_1,this.score_2=t.score_2}},{key:"isBlank",value:function(){return this.score_1===t.MAX_INT}},{key:"decreaseBy",value:function(t){this.score_1+=t,this.score_2+=t}}]),t}();o.MAX_INT=Number.MAX_SAFE_INTEGER,e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(0)),u=function(){function t(){r(this,t)}return i(t,[{key:"findPositionForNewNode",value:function(t,e){var n=this,r=new o.default,i=t.width,u=t.height;return e.forEach(function(e){n.tryPlaceRectIn(e,t,i,u,r),n.tryPlaceRectIn(e,t,u,i,r)}),r}},{key:"tryPlaceRectIn",value:function(t,e,n,r,i){if(t.width>=n&&t.height>=r){var o=this.calculateScore(t,n,r);o<i&&(e.x=t.x,e.y=t.y,e.width=n,e.height=r,e.packed=!0,i.assign(o))}}},{key:"calculateScore",value:function(t,e,n){throw"NotImplementedError"}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(1)),c=r(n(0)),f=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,s.default),a(e,[{key:"calculateScore",value:function(t,e,n){var r=[Math.abs(t.width-e),Math.abs(t.height-n)].sort(function(t,e){return t-e});return new c.default(r[0],r[1])}}]),e}();e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.width=null,this.height=null,this.x=0,this.y=0,this.packed=!1,this.width=e,this.height=n}return i(t,[{key:"rotate",value:function(){var t=this.width,e=this.height;this.width=e,this.height=t}},{key:"label",get:function(){return this.width+"x"+this.height+" at ["+this.x+","+this.y+"]"}},{key:"area",get:function(){return this.width*this.height}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n,i,o,u){r(this,t),this.name="",this.width=0,this.height=0,this.depth=0,this.maxWeight=0,this.items=[],this.name=e,this.width=n,this.height=i,this.depth=o,this.maxWeight=u}return i(t,[{key:"getName",value:function(){return this.name}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getDepth",value:function(){return this.depth}},{key:"getMaxWeight",value:function(){return this.maxWeight}},{key:"getItems",value:function(){return this.items}},{key:"getVolume",value:function(){return this.getWidth()*this.getHeight()*this.getDepth()}},{key:"putItem",value:function(t,e){var n=this,r=!1;t.position=e;for(var i=0;i<6;i++){t.rotationType=i;var o=t.getDimension();if(!(n.getWidth()<e[0]+o[0]||n.getHeight()<e[1]+o[1]||n.getDepth()<e[2]+o[2])){r=!0;for(var u=0;u<n.items.length;u++)if(n.items[u].intersect(t)){r=!1;break}return r&&n.items.push(t),r}}return r}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o,u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=e.RotationType_WHD=0,s=e.RotationType_HWD=1,c=e.RotationType_HDW=2,f=e.RotationType_DHW=3,h=e.RotationType_DWH=4,l=e.RotationType_WDH=5,p=e.WidthAxis=0,y=e.HeightAxis=1,d=e.DepthAxis=2,g=(e.StartPosition=[0,0,0],e.RotationTypeStrings=(o={},i(o,a,"RotationType_WHD (w,h,d)"),i(o,s,"RotationType_HWD (h,w,d)"),i(o,c,"RotationType_HDW (h,d,w)"),i(o,f,"RotationType_DHW (d,h,w)"),i(o,h,"RotationType_DWH (d,w,h)"),i(o,l,"RotationType_WDH (w,d,h)"),o)),v=function(){function t(e,n,i,o,u){r(this,t),this.name="",this.width=0,this.height=0,this.depth=0,this.weight=0,this.rotationType=a,this.position=[],this.name=e,this.width=n,this.height=i,this.depth=o,this.weight=u}return u(t,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getDepth",value:function(){return this.depth}},{key:"getWeight",value:function(){return this.weight}},{key:"getRotationType",value:function(){return this.rotationType}},{key:"getRotationTypeString",value:function(){return g[this.getRotationType()]}},{key:"getDimension",value:function(){var t=void 0;switch(this.rotationType){case a:t=[this.getWidth(),this.getHeight(),this.getDepth()];break;case s:t=[this.getHeight(),this.getWidth(),this.getDepth()];break;case c:t=[this.getHeight(),this.getDepth(),this.getWidth()];break;case f:t=[this.getDepth(),this.getHeight(),this.getWidth()];break;case h:t=[this.getDepth(),this.getWidth(),this.getHeight()];break;case l:t=[this.getWidth(),this.getDepth(),this.getHeight()]}return t}},{key:"intersect",value:function(t){return b(this,t,p,y)&&b(this,t,y,d)&&b(this,t,p,d)}},{key:"getVolume",value:function(){return this.getWidth()*this.getHeight()*this.getDepth()}}]),t}();e.default=v;var b=e.rectIntersect=function(t,e,n,r){var i=void 0,o=void 0,u=void 0,a=void 0,s=void 0,c=void 0,f=void 0,h=void 0;return i=t.getDimension(),o=e.getDimension(),u=t.position[n]+i[n]/2,a=t.position[r]+i[r]/2,s=e.position[n]+o[n]/2,c=e.position[r]+o[r]/2,f=Math.max(u,s)-Math.min(u,s),h=Math.max(a,c)-Math.min(a,c),f<(i[n]+o[n])/2&&h<(i[r]+o[r])/2}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.heuristics=e.Packer=e.Box=e.Bin=void 0;var i=r(n(7)),o=r(n(3)),u=r(n(8)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(13));e.Bin=i.default,e.Box=o.default,e.Packer=u.default,e.heuristics=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FreeSpaceBox=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(n(2)),s=r(n(3)),c=function(){function t(e,n,r){i(this,t),this.width=null,this.height=null,this.boxes=[],this.heuristic=null,this.freeRectangles=[],this.width=e,this.height=n,this.freeRectangles=[new f(e,n)],this.heuristic=r||new a.default}return u(t,[{key:"insert",value:function(t){if(t.packed)return!1;if(this.heuristic.findPositionForNewNode(t,this.freeRectangles),!t.packed)return!1;for(var e=this.freeRectangles.length,n=0;n<e;)this.splitFreeNode(this.freeRectangles[n],t)?(this.freeRectangles.splice(n,1),e--):n++;return this.pruneFreeList(),this.boxes.push(t),!0}},{key:"scoreFor",value:function(t){var e=new s.default(t.width,t.height);return this.heuristic.findPositionForNewNode(e,this.freeRectangles)}},{key:"isLargerThan",value:function(t){return this.width>=t.width&&this.height>=t.height||this.height>=t.width&&this.width>=t.height}},{key:"splitFreeNode",value:function(t,e){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)&&(this.trySplitFreeNodeVertically(t,e),this.trySplitFreeNodeHorizontally(t,e),!0)}},{key:"trySplitFreeNodeVertically",value:function(t,e){e.x<t.x+t.width&&e.x+e.width>t.x&&(this.tryLeaveFreeSpaceAtTop(t,e),this.tryLeaveFreeSpaceAtBottom(t,e))}},{key:"tryLeaveFreeSpaceAtTop",value:function(t,e){if(e.y>t.y&&e.y<t.y+t.height){var n=o({},t);n.height=e.y-n.y,this.freeRectangles.push(n)}}},{key:"tryLeaveFreeSpaceAtBottom",value:function(t,e){if(e.y+e.height<t.y+t.height){var n=o({},t);n.y=e.y+e.height,n.height=t.y+t.height-(e.y+e.height),this.freeRectangles.push(n)}}},{key:"trySplitFreeNodeHorizontally",value:function(t,e){e.y<t.y+t.height&&e.y+e.height>t.y&&(this.tryLeaveFreeSpaceOnLeft(t,e),this.tryLeaveFreeSpaceOnRight(t,e))}},{key:"tryLeaveFreeSpaceOnLeft",value:function(t,e){if(e.x>t.x&&e.x<t.x+t.width){var n=o({},t);n.width=e.x-n.y,this.freeRectangles.push(n)}}},{key:"tryLeaveFreeSpaceOnRight",value:function(t,e){if(e.x+e.width<t.x+t.width){var n=o({},t);n.x=e.x+e.width,n.width=t.x+t.width-(e.x+e.width),this.freeRectangles.push(n)}}},{key:"pruneFreeList",value:function(){for(var t=0;t<this.freeRectangles.length;){var e=t+1;if(e===this.freeRectangles.length)break;for(;e<this.freeRectangles.length;){if(this.isContainedIn(this.freeRectangles[t],this.freeRectangles[e])){this.freeRectangles.splice(t,1),t--;break}this.isContainedIn(this.freeRectangles[e],this.freeRectangles[t])?this.freeRectangles.splice(e,1):e++,t++}}}},{key:"isContainedIn",value:function(t,e){return t&&e&&t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height}},{key:"area",get:function(){return this.width*this.height}},{key:"efficiency",get:function(){var t=0;return this.boxes.forEach(function(e){t+=e.area}),100*t/this.area}},{key:"label",get:function(){return this.width+"x"+this.height+" "+this.efficiency+"%"}}]),t}();e.default=c;var f=e.FreeSpaceBox=function t(e,n){i(this,t),this.x=0,this.y=0,this.width=null,this.height=null,this.width=e,this.height=n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(n(0)),a=r(n(9)),s=function(){function t(e){i(this,t),this.bins=[],this.unpackedBoxes=[],this.bins=e}return o(t,[{key:"pack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=void 0;if(0===(t=t.filter(function(t){return!t.packed})).length)return n;for(var i=e.limit||u.default.MAX_INT,o=new a.default(this.bins,t);(r=o.bestFit())&&(r.bin.insert(r.box),o.removeBox(r.box),o.recalculateBin(r.bin),n.push(r.box),!(n.length>=i)););return n}}]),t}();e.default=s},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){return t&&t.__esModule?t:{default:t}}(n(10)),a=function(){function t(e,n){var r=this;i(this,t),this.entries=[],e.forEach(function(t){r.addBinEntries(t,n)})}return o(t,[{key:"debug",value:function(){n(11),console.table(this.entries.map(function(t){return{bin:t.bin.label,box:t.box.label,score:t.score}}))}},{key:"addBinEntries",value:function(t,e){var n=this;e.forEach(function(e){var r=new u.default(t,e);r.calculate(),n.entries.push(r)})}},{key:"any",value:function(){return this.boxes.some(function(t){return t})}},{key:"largestNotFitingBox",value:function(){var t=this;this.entries.filter(function(t){return t.fit}).map(function(t){return t.box});return this.entries.forEach(function(e){t.fittingBoxes.contains(e.box)&&(t.unfit=e)}),!!null.box&&null}},{key:"bestFit",value:function(){for(var t=null,e=0;e<this.entries.length;e++){var n=this.entries[e];n.fit()&&((null===t||n.score<t.score)&&(t=n))}return t}},{key:"removeBox",value:function(t){this.entries=this.entries.filter(function(e){return e.box!==t})}},{key:"addBin",value:function(t){this.addBinEntries(t,this.currentBoxes())}},{key:"recalculateBin",value:function(t){this.entries.filter(function(e){return e.bin===t}).forEach(function(t){return t.calculate()})}},{key:"currentBoxes",value:function(){return[].concat(r(new Set(this.entries.map(function(t){return t.box}))))}}]),t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.bin=null,this.box=null,this.score=null,this.bin=e,this.box=n}return i(t,[{key:"calculate",value:function(){return this.score=this.bin.scoreFor(this.box),this.score}},{key:"fit",value:function(){return!this.score.isBlank()}}]),t}();e.default=o},function(t,e,n){!function(){"use strict";!function(){function t(t,e){return Array.isArray(e)&&e.every(t)}function e(t){var e=new f;return t.forEach(function(t){"string"==typeof t||"number"==typeof t?e.cell("item",t):Object.keys(t).forEach(function(n){e.cell(n,t[n])}),e.newRow()}),e.toString()}function r(t,e){var n=new f;e.forEach(function(e){e.forEach(function(e,r){n.cell(t[r],e)}),n.newRow()});var r=n.toString();console.log(r)}function i(t,n){var r=e(n),i=r.indexOf("\n");if(i>0){t.length>i&&(i=t.length),console.log(t);var o,u="";for(o=0;o<i;o+=1)u+="-";console.log(u)}console.log(r)}function o(t){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})}function u(t){return e(o(t))}if("undefined"==typeof console)throw new Error("Weird, console object is undefined");if("function"!=typeof console.table){var a=function(t,e){return typeof e===t}.bind(null,"string"),s=t.bind(null,a),c=t.bind(null,Array.isArray),f=n(12);console.table=function(){var t=Array.prototype.slice.call(arguments);return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?i(t[0],t[1]):2===t.length&&s(t[0])&&c(t[1])?r(t[0],t[1]):void t.forEach(function(t){if("string"==typeof t)return console.log(t);Array.isArray(t)?console.log(e(t)):"object"==typeof t&&console.log(u(t))})}}}()}()},function(t,e){function n(){this.rows=[],this.row={__printers:{}}}function r(t){return void 0===t?"":""+t}function i(t){return t.replace(/\u001b\[\d+m/g,"").length}function o(t){return function(e,n){var o=r(e),u=i(o);return(n>u?Array(n-u+1).join(t):"")+o}}function u(t){return function(e,n){var o=r(e),u=i(o);return o+(n>u?Array(n-u+1).join(t):"")}}function a(t,e){for(var n in t)"__printers"!=n&&e(n,t[n])}function s(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:s(String(t),String(e))}t.exports=n,n.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},n.prototype.cell=function(t,e,n){return this.row[t]=e,this.row.__printers[t]=n||r,this},n.prototype.separator="  ",n.string=r,n.leftPadder=o;var c=n.padLeft=o(" ");n.rightPadder=u;var f=u(" ");n.number=function(t){return function(e,n){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var r=null==t?e+"":e.toFixed(t);return c(r,n)}},n.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach(function(e){var n=0;a(e,function(e){n=Math.max(n,t[e]||0),t[e]=n,n++})});return Object.keys(t).sort(function(e,n){return t[e]-t[n]})},n.prototype.print=function(){var t=this.columns(),e=this.separator,n={},r="";return this.rows.forEach(function(t){a(t,function(e,r){var o=t.__printers[e].call(t,r);n[e]=Math.max(i(o),n[e]||0)})}),this.rows.forEach(function(i){var o="";t.forEach(function(t){var r=n[t],u=i.hasOwnProperty(t)?""+i.__printers[t].call(i,i[t],r):"";o+=f(u,r)+e}),o=o.slice(0,-e.length),r+=o+"\n"}),r},n.prototype.toString=function(){var t=this.columns(),e=new n;return e.separator=this.separator,t.forEach(function(t){e.cell(t,t)}),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},n.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach(function(t){this.cell(t,void 0,o("-"))},this),this.newRow()},n.prototype.forEachTotal=function(t){for(var e in this.totals){var n=this.totals[e],r=n.init,i=this.rows.length;this.rows.forEach(function(t,o){r=n.reduce.call(t,r,t[e],o,i)}),t(e,r,n.printer)}},n.prototype.printTransposed=function(t){t=t||{};var e=new n;return e.separator=t.separator||this.separator,this.columns().forEach(function(n){e.cell(0,n,t.namePrinter),this.rows.forEach(function(t,r){e.cell(r+1,t[n],t.__printers[n])}),e.newRow()},this),e.print()},n.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map(function(t){var e="asc",n=/(.*)\|\s*(asc|des)\s*$/.exec(t);return n&&(t=n[1],e=n[2]),function(n,r){return"asc"==e?s(n[t],r[t]):s(r[t],n[t])}});return this.sort(function(t,n){for(var r=0;r<e.length;r++){var i=e[r](t,n);if(0!=i)return i}return 0})},n.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||n.aggr.sum,printer:e.printer||c,init:null==e.init?0:e.init},this},(n.aggr={}).printer=function(t,e){return e=e||r,function(n,r){return c(t+e(n),r)}},n.aggr.sum=function(t,e){return t+e},n.aggr.avg=function(t,e,n,r){return t+=e,n+1==r?t/r:t},n.print=function(t,e,r){var i=e||{};e="function"==typeof e?e:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=i[n]||{};e(r.name||n,t[n],r.printer)}};var o=new n,u=o.cell.bind(o);return Array.isArray(t)?(r=r||function(t){return t.toString()},t.forEach(function(t){e(t,u),o.newRow()})):(r=r||function(t){return t.printTransposed({separator:" : "})},e(t,u),o.newRow()),r(o)},n.log=function(t,e,r){console.log(n.print(t,e,r))},n.prototype.log=function(){console.log(this.toString())}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(14);Object.defineProperty(e,"BestAreaFit",{enumerable:!0,get:function(){return r(i).default}});var o=n(15);Object.defineProperty(e,"BestLongSideFit",{enumerable:!0,get:function(){return r(o).default}});var u=n(2);Object.defineProperty(e,"BestShort",{enumerable:!0,get:function(){return r(u).default}});var a=n(16);Object.defineProperty(e,"BottomLeft",{enumerable:!0,get:function(){return r(a).default}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(1)),c=r(n(0)),f=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,s.default),a(e,[{key:"calculateScore",value:function(t,e,n){var r=t.width*t.height-e*n,i=Math.abs(t.width-e),o=Math.abs(t.height-n),u=Math.min(i,o);return new c.default(r,u)}}]),e}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(1)),c=r(n(0)),f=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,s.default),a(e,[{key:"calculateScore",value:function(t,e,n){var r=[Math.abs(t.width-e),Math.abs(t.height-n)].sort(function(t,e){return t-e}).reverse();return new c.default(r[0],r[1])}}]),e}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(1)),c=r(n(0)),f=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,s.default),a(e,[{key:"calculateScore",value:function(t,e,n){var r=t.y+n;return new c.default(r,t.x)}}]),e}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Packer=e.Item=e.Bin=void 0;var i=r(n(4)),o=r(n(5)),u=r(n(18));e.Bin=i.default,e.Item=o.default,e.Packer=u.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(function(t){t&&t.__esModule}(n(4)),n(5)),u=function(){function t(){r(this,t),this.bins=[],this.items=[],this.unfitItems=[]}return i(t,[{key:"addBin",value:function(t){this.bins.push(t)}},{key:"addItem",value:function(t){this.items.push(t)}},{key:"findFittedBin",value:function(t){for(var e=0;e<this.bins.length;e++){var n=this.bins[e];if(n.putItem(t,o.StartPosition))return 1===n.items.length&&n.items[0]===t&&(n.items=[]),n}return null}},{key:"getBiggerBinThan",value:function(t){for(var e=t.getVolume(),n=0;n<this.bins;n++){var r=this.bins[n];if(r.getVolume()>e)return r}return null}},{key:"unfitItem",value:function(){0!==this.items.length&&(this.unfitItems.push(this.items[0]),this.items.splice(0,1))}},{key:"packToBin",value:function(t,e){var n=!1,r=null,i=[];if(!t.putItem(e[0],o.StartPosition)){var u=this.getBiggerBinThan(t);return u?this.packToBin(u,e):this.items}for(var a=1;a<this.items.length;a++){var s=this.items[a];t:for(var c=0;c<3;c++)for(var f=0;f<t.items.length;f++){var h=void 0,l=t.items[f];switch(c){case o.WidthAxis:h=[l.position[0]+l.getWidth(),l.position[1],l.position[2]];break;case o.HeightAxis:h=[l.position[0],l.position[1]+l.getHeight(),l.position[2]];break;case o.DepthAxis:h=[l.position[0],l.position[1],l.position[2]+l.getDepth()]}if(t.putItem(s,h)){n=!0;break t}}if(!n){for(;null!==r;)if((r=this.getBiggerBinThan(t))&&(r.items.push(s),0===this.packToBin(r,r.items).length)){t=r,n=!0;break}n||i.push(s)}}return i}},{key:"pack",value:function(){for(this.bins.sort(function(t,e){return t.getVolume()>e.getVolume()}),this.items.sort(function(t,e){return t.getVolume()>e.getVolume()});this.items.length>0;){var t=this.findFittedBin(this.items[0]);null!==t?this.items=this.packToBin(t,this.items):this.unfitItem()}return null}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.BP3D=e.BP2D=void 0;var i=r(n(6)),o=r(n(17));e.BP2D=i,e.BP3D=o}])});