!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BinPacking",[],e):"object"==typeof exports?exports.BinPacking=e():t.BinPacking=e()}(this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=17)}({17:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),h=i(5),n=i(18);i.d(e,"Bin",function(){return s.a}),i.d(e,"Item",function(){return h.e}),i.d(e,"Packer",function(){return n.a})},18:function(t,e,i){"use strict";i(4);var s=i(5);class h{constructor(){this.bins=[],this.items=[],this.unfitItems=[]}addBin(t){this.bins.push(t)}addItem(t){this.items.push(t)}findFittedBin(t){for(let e=0;e<this.bins.length;e++){let i=this.bins[e];if(i.putItem(t,s.c))return 1===i.items.length&&i.items[0]===t&&(i.items=[]),i}return null}getBiggerBinThan(t){let e=t.getVolume();for(let t=0;t<this.bins;t++){let i=this.bins[t];if(i.getVolume()>e)return i}return null}unfitItem(){0!==this.items.length&&(this.unfitItems.push(this.items[0]),this.items.splice(0,1))}packToBin(t,e){let i=!1,h=null,n=[];if(!t.putItem(e[0],s.c)){let i=this.getBiggerBinThan(t);return i?this.packToBin(i,e):this.items}for(let e=1;e<this.items.length;e++){let o=this.items[e];t:for(let e=0;e<3;e++)for(let h=0;h<t.items.length;h++){let n,r=t.items[h];switch(e){case s.d:n=[r.position[0]+r.getWidth(),r.position[1],r.position[2]];break;case s.b:n=[r.position[0],r.position[1]+r.getHeight(),r.position[2]];break;case s.a:n=[r.position[0],r.position[1],r.position[2]+r.getDepth()]}if(t.putItem(o,n)){i=!0;break t}}if(!i){for(;null!==h;)if((h=this.getBiggerBinThan(t))&&(h.items.push(o),0===this.packToBin(h,h.items).length)){t=h,i=!0;break}i||n.push(o)}}return n}pack(){for(this.bins.sort((t,e)=>t.getVolume()>e.getVolume()),this.items.sort((t,e)=>t.getVolume()>e.getVolume());this.items.length>0;){let t=this.findFittedBin(this.items[0]);null!==t?this.items=this.packToBin(t,this.items):this.unfitItem()}return null}}e.a=h},4:function(t,e,i){"use strict";class s{constructor(t,e,i,s,h){this.name="",this.width=0,this.height=0,this.depth=0,this.maxWeight=0,this.items=[],this.name=t,this.width=e,this.height=i,this.depth=s,this.maxWeight=h}getName(){return this.name}getWidth(){return this.width}getHeight(){return this.height}getDepth(){return this.depth}getMaxWeight(){return this.maxWeight}getItems(){return this.items}getVolume(){return this.getWidth()*this.getHeight()*this.getDepth()}putItem(t,e){let i=this,s=!1;t.position=e;for(let h=0;h<6;h++){t.rotationType=h;let n=t.getDimension();if(!(i.getWidth()<e[0]+n[0]||i.getHeight()<e[1]+n[1]||i.getDepth()<e[2]+n[2])){s=!0;for(let e=0;e<i.items.length;e++)if(i.items[e].intersect(t)){s=!1;break}return s&&i.items.push(t),s}}return s}}e.a=s},5:function(t,e,i){"use strict";const s=0,h=1,n=2,o=3,r=4,g=5,u=0;e.d=u;const a=1;e.b=a;const p=2;e.a=p;const c=[0,0,0];e.c=c;const m={[s]:"RotationType_WHD (w,h,d)",[h]:"RotationType_HWD (h,w,d)",[n]:"RotationType_HDW (h,d,w)",[o]:"RotationType_DHW (d,h,w)",[r]:"RotationType_DWH (d,w,h)",[g]:"RotationType_WDH (w,d,h)"};class l{constructor(t,e,i,h,n){this.name="",this.width=0,this.height=0,this.depth=0,this.weight=0,this.rotationType=s,this.position=[],this.name=t,this.width=e,this.height=i,this.depth=h,this.weight=n}getWidth(){return this.width}getHeight(){return this.height}getDepth(){return this.depth}getWeight(){return this.weight}getRotationType(){return this.rotationType}getRotationTypeString(){return m[this.getRotationType()]}getDimension(){let t;switch(this.rotationType){case s:t=[this.getWidth(),this.getHeight(),this.getDepth()];break;case h:t=[this.getHeight(),this.getWidth(),this.getDepth()];break;case n:t=[this.getHeight(),this.getDepth(),this.getWidth()];break;case o:t=[this.getDepth(),this.getHeight(),this.getWidth()];break;case r:t=[this.getDepth(),this.getWidth(),this.getHeight()];break;case g:t=[this.getWidth(),this.getDepth(),this.getHeight()]}return t}intersect(t){return d(this,t,u,a)&&d(this,t,a,p)&&d(this,t,u,p)}getVolume(){return this.getWidth()*this.getHeight()*this.getDepth()}}e.e=l;const d=(t,e,i,s)=>{let h,n,o,r,g,u,a,p;return h=t.getDimension(),n=e.getDimension(),o=t.position[i]+h[i]/2,r=t.position[s]+h[s]/2,g=e.position[i]+n[i]/2,u=e.position[s]+n[s]/2,a=Math.max(o,g)-Math.min(o,g),p=Math.max(r,u)-Math.min(r,u),a<(h[i]+n[i])/2&&p<(h[s]+n[s])/2}}})});